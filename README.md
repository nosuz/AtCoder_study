# AtCoder の解答記録

AtCoder Beginner Contest(ABC)の問題を解いた記録です。基本的に正解できたコードのみが登録されていますが、一部不正解だが記録のために commit されたコードも入っています。

### Dev Container

Dev Container になっています。コンテナを作成する手順は、次のとおりです。

1. このレポジトリをクローンする。
2. UID と GID を確認する。

もしローカルの UID と GID が次の表と異なる場合は、次のいずれかのコマンドを実行してローカルの ID がコンテナに反映されるように設定してください。この操作がないと、docker image の作成に時間がかかり、作成された image のサイズも大きくなります。

|     | ID   |
| --- | ---- |
| UID | 1000 |
| GID | 1000 |

3. VSCode で開き、コマンドパレットから`Dev Containers: Rebuild Container`を実行する。

```
bash .devcontainer/generate_env.sh
# or
python .devcontainer/generate_env.py
```

以上で、Python 環境の他、問題の入出力例を取得するプログラムが使えるようになります。

## 問題の入力例と出力例の収集

`setting.py`コマンドを使うと、Firefox を使用して指定コンテストの問題ページから提示された入力例と出力例を取得して、その例をプログラムのテンプレートに埋め込むことがでいます。このテンプレートを使ってコードを作成すると、`validate.py`コマンドで解答が期待通りか検証できます。

ただしこのプラグラムを実行する前には、いくつか事前の準備が必要です。

### Firefox 画面の表示許可

Firefox の画面を表示させるには、ローカルの X11 サーバが外部からの接続を許可する必要があります。そこでコンテナを実行しているマシン（注意：コンテナ内でない）上で次のコマンドで許可をしておきます。。

```bash
xhost +local:
```

### Firefox のプロファイル作成

問題ページの巡回には、Firefox に専用プロファイル`selenium`を使用します。次のコマンドで Firefox を起動した後、[AtCoder](https://atcoder.jp/?lang=ja)にログインしておきます。

```bash
firefox -p selenium
```

もしプロファイルがない場合には、プロファイル選択画面が表示されます。`Create Profile...`を選択して、`selenium`という名前のプロファイルを作成します。

プロファイルを保存するフォルダ（ディレクトリ）は、`/home/vscode.mozilla`以下にしてください。ここ以外を選択すると、プロファイル内容が消えてしまいます。

### 入出力例の収集

各問題の入力例と出力例は、次のコマンドで収集して、コメントとして埋め込んだ解答プログラムのテンプレートを作成します。

```bash
# ABC 123の例を収集
./setting.py abc123
```

実行すると Firefox が起動して、各ページを自動的に巡回します。ただし Firefox は Headless mode で動いているので、画面は表示されません。

AtCoder のコンテスト開催中は、そのコンテストに参加登録したユーザでないと対象コンテストの問題ページを見ることができません。そのため事前にログイン情報を Firefox のプロファイルに保存しておく必要があります。

## 解答コードの検証

`setting.py`が作成したテンプレートには、問題の入力例と期待される出力例が挿入されています。そこで、このテンプレートを使って解答コードを書くと、`validate.py`で期待した出力が得られるかコードを検証できます。

```bash
./validate.py ABC_408/ABC408_A.py
```

OK と表示されれば、期待される出力例と一致しています。

一部の入力例についてのみ検証する場合は、`--limit`オプションを使用します。例えば入力例 1 についての場合は、次のようにします。

```bash
./validate.py --limit 1 ABC_408/ABC408_A.py
```

コンマで番号を区切ることで、複数の例を指定することも可能です。

```bash
./validate.py --limit 1,3 ABC_408/ABC408_A.py
```

全ての出力例が`OK`となったら、AtCoder に提出します。
